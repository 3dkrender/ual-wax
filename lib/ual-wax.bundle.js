/**
 * UAL Wax v1.4.4
 * 
 * - Pack by 3DKRender Team
 * 
 * @license
 * MIT License
 * 
 * Copyright (c) 2020-present eosdac, pink.network and other contributors
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
var UALWax=function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function n(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n)
;function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function s(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e,r){return(f=l()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function h(t){var e="function"==typeof Map?new Map:void 0
;return(h=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return f(t,arguments,u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,t)})(t)}function p(t,e){
return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e=l();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function y(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){
if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}(t)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g,m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};g={exports:{}},function(t){
var r,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c)g.exports=c;else{(c=t.regeneratorRuntime=g.exports).wrap=w;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={},y={};y[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==n&&i.call(m,o)&&(y=m);var b=k.prototype=x.prototype=Object.create(y)
;_.prototype=b.constructor=k,k.constructor=_,k[u]=_.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[s]=function(){return this},c.AsyncIterator=E,
c.async=function(t,e,r,n){var i=new E(w(t,e,r,n));return c.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(b),b[u]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=L,T.prototype={constructor:T,reset:function(t){if(this.prev=0,
this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}
for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},
abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg
;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){
var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function w(t,e,r,n){var i=e&&e.prototype instanceof x?e:x,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(t,e,r){var n=l;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return P()}for(r.method=i,r.arg=a;;){
var o=r.delegate;if(o){var s=z(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=A(t,e,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function A(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{
type:"throw",arg:t}}}function x(){}function _(){}function k(){}function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function r(n,a,o,s){var u=A(t[n],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===e(l)&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),s)}s(u.arg)}var n
;this._invoke=function(t,e){function i(){return new Promise((function(n,i){r(t,e,n,i)}))}return n=n?n.then(i,i):i()}}function z(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,z(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=A(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d
;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,d):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function U(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],
t.forEach(U,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")());var b={},w={};Object.defineProperty(w,"__esModule",{value:!0});var A=function(){function t(e,r){i(this,t),
this.chains=e,this.options=r,this.defaultInvalidateAfter=604800}return o(t,[{key:"shouldInvalidateAfter",value:function(){return this.defaultInvalidateAfter}}]),t}();w.Authenticator=A;var x={};Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function t(e,r,n){i(this,t),this.chains=e,this.appName=r,this.authenticators=n}return o(t,[{key:"getAuthenticators",value:function(){var t=this.authenticators.filter((function(t){return t.shouldRender()}));t.forEach((function(t){
return t.init()}));var e=null;return 1===t.length&&t[0].shouldAutoLogin()&&(e=t[0]),{availableAuthenticators:t,autoLoginAuthenticator:e}}}]),t}();x.UAL=_;var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.UALLoggedInAuthType="UALLoggedInAuthType",k.UALAccountName="UALAccountName";var S={};Object.defineProperty(S,"__esModule",{value:!0});var E=function(){function t(){i(this,t)}return o(t,[{key:"returnEosjsTransaction",value:function(t,e){return t?e.hasOwnProperty("transaction_id")?{
wasBroadcast:!0,transactionId:e.transaction_id,status:e.processed.receipt.status,transaction:e}:e.hasOwnProperty("code")?{wasBroadcast:!0,error:{code:e.code,message:e.message,name:e.error.name},transaction:e}:{wasBroadcast:!0,transaction:e}:{wasBroadcast:!1,transaction:e}}},{key:"buildRpcEndpoint",value:function(t){var e="".concat(t.protocol,"://").concat(t.host,":").concat(t.port);if(t.path){var r="/";t.path.startsWith("/")&&(r=""),e="".concat(e).concat(r).concat(t.path)}
return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e}}]),t}();S.User=E;var z={};!function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),(e=t.UALErrorType||(t.UALErrorType={})).UAL="UAL",e.Login="Login",e.Logout="Logout",e.Signing="Signing",e.Validation="Validation",e.Initialization="Initialization",e.DataRequest="DataRequest",e.Unsupported="Unsupported";var r=function(t){s(r,t);var e=d(r);function r(t,n,a,o){var s;return i(this,r),(s=e.call(this,t)).type=n,s.cause=a,s.source=o,s}
return r}(h(Error));t.UALError=r}(z),function(t){function e(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),e(w),e(x),e(k),e(S),e(z)}(b);var U={},R={},T={},L={},P={},C=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{
!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var O={RIPEMD160:function(){function t(){!function(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return I(t,null,[{key:"get_n_pad_bytes",value:function(t){return 64-(t+8&63)}},{key:"pad",value:function(e){var r,n,i=e.byteLength,a=t.get_n_pad_bytes(i),o=(r=i,n=536870912,[Math.floor(r/n),r%n]).map((function(t,e){return e?8*t:t})),s=C(o,2),u=s[0],c=s[1],l=new Uint8Array(i+a+8);l.set(new Uint8Array(e),0);var f=new DataView(l.buffer);return f.setUint8(i,128),f.setUint32(i+a,c,!0),f.setUint32(i+a+4,u,!0),
l.buffer}},{key:"f",value:function(t,e,r,n){return 0<=t&&t<=15?e^r^n:16<=t&&t<=31?e&r|~e&n:32<=t&&t<=47?(e|~r)^n:48<=t&&t<=63?e&n|r&~n:64<=t&&t<=79?e^(r|~n):void 0}},{key:"K",value:function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0}},{key:"KP",value:function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0}},{key:"add_modulo32",
value:function(){return 0|Array.from(arguments).reduce((function(t,e){return t+e}),0)}},{key:"rol32",value:function(t,e){return t<<e|t>>>32-e}},{key:"hash",value:function(e){
for(var r=t.pad(e),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=r.byteLength/64,u=new Array(s).fill(void 0).map((function(t,e){
return function(t){return new DataView(r,64*e,64).getUint32(4*t,!0)}})),c=[1732584193,4023233417,2562383102,271733878,3285377520],l=0;l<s;++l){for(var f=c[0],h=c[1],p=c[2],d=c[3],y=c[4],v=f,g=h,m=p,b=d,w=y,A=0;A<80;++A){var x=t.add_modulo32(t.rol32(t.add_modulo32(f,t.f(A,h,p,d),u[l](n[A]),t.K(A)),a[A]),y);f=y,y=d,d=t.rol32(p,10),p=h,h=x,x=t.add_modulo32(t.rol32(t.add_modulo32(v,t.f(79-A,g,m,b),u[l](i[A]),t.KP(A)),o[A]),w),v=w,w=b,b=t.rol32(m,10),m=g,g=x}var _=t.add_modulo32(c[1],p,b)
;c[1]=t.add_modulo32(c[2],d,w),c[2]=t.add_modulo32(c[3],y,v),c[3]=t.add_modulo32(c[4],f,g),c[4]=t.add_modulo32(c[0],h,m),c[0]=_}var k=new ArrayBuffer(20),S=new DataView(k);return c.forEach((function(t,e){return S.setUint32(4*e,t,!0)})),k}}]),t}()};!function(t){var e=m&&m.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{
n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},r=m&&m.__spread||function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(e(arguments[r]));return t},n=m&&m.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(t,"__esModule",{value:!0})
;var i=O.RIPEMD160.hash,a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var s=function(){for(var t=Array(256).fill(-1),e=0;e<a.length;++e)t[a.charCodeAt(e)]=e;return t}();var u,c=function(){for(var t=Array(256).fill(-1),e=0;e<o.length;++e)t[o.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t}();function l(t){return 0!=(128&t[t.length-1])}function f(t){for(var e=1,r=0;r<t.length;++r){var n=(255&~t[r])+e;t[r]=n,
e=n>>8}}function h(t,e){for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var a=i-"0".charCodeAt(0),o=0;o<t;++o){var s=10*r[o]+a;r[o]=s,a=s>>8}if(a)throw new Error("number is out of range")}return r}function p(t,e){void 0===e&&(e=1);for(var n=Array(e).fill("0".charCodeAt(0)),i=t.length-1;i>=0;--i){for(var a=t[i],o=0;o<n.length;++o){var s=(n[o]-"0".charCodeAt(0)<<8)+a;n[o]="0".charCodeAt(0)+s%10,
a=s/10|0}for(;a;)n.push("0".charCodeAt(0)+a%10),a=a/10|0}return n.reverse(),String.fromCharCode.apply(String,r(n))}function d(t,e){for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=s[e.charCodeAt(n)];if(i<0)throw new Error("invalid base-58 value");for(var a=0;a<t;++a){var o=58*r[a]+i;r[a]=o,i=o>>8}if(i)throw new Error("base-58 value is out of range")}return r.reverse(),r}function y(t,e){var i,o,u,c,l=[];try{for(var f=n(t),h=f.next();!h.done;h=f.next()){for(var p=h.value,d=0;d<l.length;++d){
var y=(s[l[d]]<<8)+p;l[d]=a.charCodeAt(y%58),p=y/58|0}for(;p;)l.push(a.charCodeAt(p%58)),p=p/58|0}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}try{for(var v=n(t),g=v.next();!g.done;g=v.next()){if(g.value)break;l.push("1".charCodeAt(0))}}catch(t){u={error:t}}finally{try{g&&!g.done&&(c=v.return)&&c.call(v)}finally{if(u)throw u.error}}return l.reverse(),String.fromCharCode.apply(String,r(l))}function v(t,e){
for(var r=new Uint8Array(t.length+e.length),n=0;n<t.length;++n)r[n]=t[n];for(n=0;n<e.length;++n)r[t.length+n]=e.charCodeAt(n);return i(r)}function g(t,e,r,n){var i=d(r+4,t),a={type:e,data:new Uint8Array(i.buffer,0,r)},o=new Uint8Array(v(a.data,n));if(o[0]!==i[r+0]||o[1]!==i[r+1]||o[2]!==i[r+2]||o[3]!==i[r+3])throw new Error("checksum doesn't match");return a}function b(t,e,r){for(var n=new Uint8Array(v(t.data,e)),i=new Uint8Array(t.data.length+4),a=0;a<t.data.length;++a)i[a]=t.data[a]
;for(a=0;a<4;++a)i[a+t.data.length]=n[a];return r+y(i)}function w(e){if("string"!=typeof e)throw new Error("expected string containing public key");if("EOS"===e.substr(0,3)){for(var r=d(t.publicKeyDataSize+4,e.substr(3)),n={type:u.k1,data:new Uint8Array(t.publicKeyDataSize)},a=0;a<t.publicKeyDataSize;++a)n.data[a]=r[a];var o=new Uint8Array(i(n.data));if(o[0]!==r[t.publicKeyDataSize]||o[1]!==r[34]||o[2]!==r[35]||o[3]!==r[36])throw new Error("checksum doesn't match");return n}
if("PUB_K1_"===e.substr(0,7))return g(e.substr(7),u.k1,t.publicKeyDataSize,"K1");if("PUB_R1_"===e.substr(0,7))return g(e.substr(7),u.r1,t.publicKeyDataSize,"R1");throw new Error("unrecognized public key format")}function A(e){if(e.type===u.k1&&e.data.length===t.publicKeyDataSize)return b(e,"K1","PUB_K1_");if(e.type===u.r1&&e.data.length===t.publicKeyDataSize)return b(e,"R1","PUB_R1_");throw new Error("unrecognized public key format")}function x(t){return"EOS"===t.substr(0,3)?A(w(t)):t}
t.isNegative=l,t.negate=f,t.decimalToBinary=h,t.signedDecimalToBinary=function(t,e){var r="-"===e[0];r&&(e=e.substr(1));var n=h(t,e);if(r){if(f(n),!l(n))throw new Error("number is out of range")}else if(l(n))throw new Error("number is out of range");return n},t.binaryToDecimal=p,t.signedBinaryToDecimal=function(t,e){if(void 0===e&&(e=1),l(t)){var r=t.slice();return f(r),"-"+p(r,e)}return p(t,e)},t.base58ToBinary=d,t.binaryToBase58=y,t.base64ToBinary=function(t){var e=t.length
;if(1==(3&e)&&"="===t[e-1]&&(e-=1),0!=(3&e))throw new Error("base-64 value is not padded correctly");var r=e>>2,n=3*r;e>0&&"="===t[e-1]&&("="===t[e-2]?n-=2:n-=1);for(var i=new Uint8Array(n),a=0;a<r;++a){var o=c[t.charCodeAt(4*a+0)],s=c[t.charCodeAt(4*a+1)],u=c[t.charCodeAt(4*a+2)],l=c[t.charCodeAt(4*a+3)];i[3*a+0]=o<<2|s>>4,3*a+1<n&&(i[3*a+1]=(15&s)<<4|u>>2),3*a+2<n&&(i[3*a+2]=(3&u)<<6|l)}return i},function(t){t[t.k1=0]="k1",t[t.r1=1]="r1"}(u=t.KeyType||(t.KeyType={})),t.publicKeyDataSize=33,
t.privateKeyDataSize=32,t.signatureDataSize=65,t.stringToPublicKey=w,t.publicKeyToString=A,t.convertLegacyPublicKey=x,t.convertLegacyPublicKeys=function(t){return t.map(x)},t.stringToPrivateKey=function(e){if("string"!=typeof e)throw new Error("expected string containing private key");if("PVT_R1_"===e.substr(0,7))return g(e.substr(7),u.r1,t.privateKeyDataSize,"R1");throw new Error("unrecognized private key format")},t.privateKeyToString=function(t){if(t.type===u.r1)return b(t,"R1","PVT_R1_")
;throw new Error("unrecognized private key format")},t.stringToSignature=function(e){if("string"!=typeof e)throw new Error("expected string containing signature");if("SIG_K1_"===e.substr(0,7))return g(e.substr(7),u.k1,t.signatureDataSize,"K1");if("SIG_R1_"===e.substr(0,7))return g(e.substr(7),u.r1,t.signatureDataSize,"R1");throw new Error("unrecognized signature format")},t.signatureToString=function(t){if(t.type===u.k1)return b(t,"K1","SIG_K1_");if(t.type===u.r1)return b(t,"R1","SIG_R1_")
;throw new Error("unrecognized signature format")}}(P);var j=m&&m.__assign||function(){return(j=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},D=m&&m.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{
try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},N=m&&m.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(D(arguments[e]));return t},K=m&&m.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(L,"__esModule",{value:!0});var M=P,W=function(t){void 0===t&&(t={}),this.skippedBinaryExtension=!1,
this.options=t};L.SerializerState=W;var B=function(){function t(t){var e=void 0===t?{}:t,r=e.textEncoder,n=e.textDecoder,i=e.array;this.readPos=0,this.array=i||new Uint8Array(1024),this.length=i?i.length:0,this.textEncoder=r||new TextEncoder,this.textDecoder=n||new TextDecoder("utf-8",{fatal:!0})}return t.prototype.reserve=function(t){if(!(this.length+t<=this.array.length)){for(var e=this.array.length;this.length+t>e;)e=Math.ceil(1.5*e);var r=new Uint8Array(e);r.set(this.array),this.array=r}},
t.prototype.haveReadData=function(){return this.readPos<this.length},t.prototype.restartRead=function(){this.readPos=0},t.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.prototype.pushArray=function(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pushArray(t)},t.prototype.get=function(){
if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.prototype.pushUint8ArrayChecked=function(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)},t.prototype.getUint8Array=function(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");var e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e},t.prototype.pushUint16=function(t){
this.push(t>>0&255,t>>8&255)},t.prototype.getUint16=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8},t.prototype.pushUint32=function(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},t.prototype.getUint32=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,(t|=this.get()<<24)>>>0},t.prototype.pushNumberAsUint64=function(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)},t.prototype.getUint64AsNumber=function(){var t=this.getUint32()
;return 4294967296*(this.getUint32()>>>0)+(t>>>0)},t.prototype.pushVaruint32=function(t){for(;;){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}},t.prototype.getVaruint32=function(){for(var t=0,e=0;;){var r=this.get();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0},t.prototype.pushVarint32=function(t){this.pushVaruint32(t<<1^t>>31)},t.prototype.getVarint32=function(){var t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1},t.prototype.pushFloat32=function(t){
this.pushArray(new Uint8Array(new Float32Array([t]).buffer))},t.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.prototype.pushFloat64=function(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))},t.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.prototype.pushName=function(t){if("string"!=typeof t)throw new Error("Expected string containing name");function e(t){
return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}for(var r=new Uint8Array(8),n=63,i=0;i<t.length;++i){var a=e(t.charCodeAt(i));n<5&&(a<<=1);for(var o=4;o>=0;--o)n>=0&&(r[Math.floor(n/8)]|=(a>>o&1)<<n%8,--n)}this.pushArray(r)},t.prototype.getName=function(){for(var t=this.getUint8Array(8),e="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|t[Math.floor(r/8)]>>r%8&1,--r)
;e+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;e.endsWith(".");)e=e.substr(0,e.length-1);return e},t.prototype.pushBytes=function(t){this.pushVaruint32(t.length),this.pushArray(t)},t.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.prototype.pushString=function(t){this.pushBytes(this.textEncoder.encode(t))},t.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},
t.prototype.pushSymbolCode=function(t){if("string"!=typeof t)throw new Error("Expected string containing symbol_code");var e=[];for(e.push.apply(e,N(this.textEncoder.encode(t)));e.length<8;)e.push(0);this.pushArray(e.slice(0,8))},t.prototype.getSymbolCode=function(){var t,e=this.getUint8Array(8);for(t=0;t<e.length&&e[t];++t);return this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,t))},t.prototype.pushSymbol=function(t){var e=t.name,r=[255&t.precision]
;for(r.push.apply(r,N(this.textEncoder.encode(e)));r.length<8;)r.push(0);this.pushArray(r.slice(0,8))},t.prototype.getSymbol=function(){var t,e=this.get(),r=this.getUint8Array(7);for(t=0;t<r.length&&r[t];++t);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,t)),precision:e}},t.prototype.pushAsset=function(t){if("string"!=typeof t)throw new Error("Expected string containing asset");var e=0,r="",n=0;"-"===(t=t.trim())[e]&&(r+="-",++e)
;for(var i=!1;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)i=!0,r+=t[e],++e;if(!i)throw new Error("Asset must begin with a number");if("."===t[e])for(++e;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)r+=t[e],++n,++e;var a=t.substr(e).trim();this.pushArray(M.signedDecimalToBinary(8,r)),this.pushSymbol({name:a,precision:n})},t.prototype.getAsset=function(){
var t=this.getUint8Array(8),e=this.getSymbol(),r=e.name,n=e.precision,i=M.signedBinaryToDecimal(t,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},t.prototype.pushPublicKey=function(t){var e=M.stringToPublicKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPublicKey=function(){var t=this.get(),e=this.getUint8Array(M.publicKeyDataSize);return M.publicKeyToString({type:t,data:e})},t.prototype.pushPrivateKey=function(t){var e=M.stringToPrivateKey(t)
;this.push(e.type),this.pushArray(e.data)},t.prototype.getPrivateKey=function(){var t=this.get(),e=this.getUint8Array(M.privateKeyDataSize);return M.privateKeyToString({type:t,data:e})},t.prototype.pushSignature=function(t){var e=M.stringToSignature(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getSignature=function(){var t=this.get(),e=this.getUint8Array(M.signatureDataSize);return M.signatureToString({type:t,data:e})},t}();function V(t){var e=Date.parse(t)
;if(Number.isNaN(e))throw new Error("Invalid time format");return e}function G(t){return Math.round(1e3*V(t+"Z"))}function Z(t){var e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)}function J(t){return Math.round(V(t+"Z")/1e3)}function F(t){var e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)}function H(t){return Math.round((V(t+"Z")-9466848e5)/500)}function Y(t){var e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)}function X(t){
if("string"!=typeof t)throw new Error("Expected string containing symbol");var e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}}function Q(t){var e=t.name;return t.precision+","+e}function q(t){var e,r,n="";try{for(var i=K(t),a=i.next();!a.done;a=i.next()){n+=("00"+a.value.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toUpperCase()}function $(t){
if("string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");for(var e=t.length/2,r=new Uint8Array(e),n=0;n<e;++n){var i=parseInt(t.substr(2*n,2),16);if(Number.isNaN(i))throw new Error("Expected hex string");r[n]=i}return r}function tt(t,e){throw new Error("Don't know how to serialize "+this.name)}function et(t){throw new Error("Don't know how to deserialize "+this.name)}function rt(t,r,n,i){var a,o
;if(void 0===n&&(n=new W),void 0===i&&(i=!0),"object"!==e(r))throw new Error("expected object containing data: "+JSON.stringify(r));this.base&&this.base.serialize(t,r,n,i);try{for(var s=K(this.fields),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.name in r){if(n.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+c.name);c.type.serialize(t,r[c.name],n,i&&c===this.fields[this.fields.length-1])}else{
if(!i||!c.type.extensionOf)throw new Error("missing "+this.name+"."+c.name+" (type="+c.type.name+")");n.skippedBinaryExtension=!0}}}catch(t){a={error:t}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}}function nt(t,e,r){var n,i,a;void 0===e&&(e=new W),void 0===r&&(r=!0),a=this.base?this.base.deserialize(t,e,r):{};try{for(var o=K(this.fields),s=o.next();!s.done;s=o.next()){var u=s.value
;r&&u.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:a[u.name]=u.type.deserialize(t,e,r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function it(t,e,r,n){if(!Array.isArray(e)||2!==e.length||"string"!=typeof e[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex((function(t){return t.name===e[0]}));if(i<0)throw new Error('type "'+e[0]+'" is not valid for variant');t.pushVaruint32(i),
this.fields[i].type.serialize(t,e[1],r,n)}function at(t,e,r){var n=t.getVaruint32();if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(t,e,r)]}function ot(t,e,r,n){var i,a;t.pushVaruint32(e.length);try{for(var o=K(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.arrayOf.serialize(t,u,r,!1)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}
function st(t,e,r){for(var n=t.getVaruint32(),i=[],a=0;a<n;++a)i.push(this.arrayOf.deserialize(t,e,!1));return i}function ut(t,e,r,n){null==e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,r,n))}function ct(t,e,r){return t.get()?this.optionalOf.deserialize(t,e,r):null}function lt(t,e,r,n){this.extensionOf.serialize(t,e,r,n)}function ft(t,e,r){return this.extensionOf.deserialize(t,e,r)}function ht(t){return j({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,
baseName:"",base:null,fields:[],serialize:tt,deserialize:et},t)}function pt(t,e){if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!=typeof t&&"string"!=typeof t)throw new Error("Expected number");if(+t!=+e)throw new Error("Number is out of range");return+t}function dt(t,e){var r=t.get(e);if(r&&r.aliasOfName)return dt(t,r.aliasOfName);if(r)return r;if(e.endsWith("[]"))return ht({name:e,arrayOf:dt(t,e.substr(0,e.length-2)),serialize:ot,deserialize:st});if(e.endsWith("?"))return ht({name:e,
optionalOf:dt(t,e.substr(0,e.length-1)),serialize:ut,deserialize:ct});if(e.endsWith("$"))return ht({name:e,extensionOf:dt(t,e.substr(0,e.length-1)),serialize:lt,deserialize:ft});throw new Error("Unknown type: "+e)}function yt(t,e,r,n,i,a){var o=t.actions.get(r);if(!o)throw new Error("Unknown action "+r+" in contract "+e);var s=new B({textEncoder:i,textDecoder:a});return o.serialize(s,n),q(s.asUint8Array())}function vt(t,e,r,n,i,a){var o=t.actions.get(r);if("string"==typeof n&&(n=$(n)),
!o)throw new Error("Unknown action "+r+" in contract "+e);var s=new B({textDecoder:a,textEncoder:i});return s.pushArray(n),o.deserialize(s)}L.SerialBuffer=B,L.supportedAbiVersion=function(t){return t.startsWith("eosio::abi/1.")},L.dateToTimePoint=G,L.timePointToDate=Z,L.dateToTimePointSec=J,L.timePointSecToDate=F,L.dateToBlockTimestamp=H,L.blockTimestampToDate=Y,L.stringToSymbol=X,L.symbolToString=Q,L.arrayToHex=q,L.hexToUint8Array=$,L.createInitialTypes=function(){var t=new Map(Object.entries({
bool:ht({name:"bool",serialize:function(t,e){if("boolean"!=typeof e)throw new Error("Expected true or false");t.push(e?1:0)},deserialize:function(t){return!!t.get()}}),uint8:ht({name:"uint8",serialize:function(t,e){t.push(pt(e,255&e))},deserialize:function(t){return t.get()}}),int8:ht({name:"int8",serialize:function(t,e){t.push(pt(e,e<<24>>24))},deserialize:function(t){return t.get()<<24>>24}}),uint16:ht({name:"uint16",serialize:function(t,e){t.pushUint16(pt(e,65535&e))},deserialize:function(t){
return t.getUint16()}}),int16:ht({name:"int16",serialize:function(t,e){t.pushUint16(pt(e,e<<16>>16))},deserialize:function(t){return t.getUint16()<<16>>16}}),uint32:ht({name:"uint32",serialize:function(t,e){t.pushUint32(pt(e,e>>>0))},deserialize:function(t){return t.getUint32()}}),uint64:ht({name:"uint64",serialize:function(t,e){t.pushArray(M.decimalToBinary(8,""+e))},deserialize:function(t){return M.binaryToDecimal(t.getUint8Array(8))}}),int64:ht({name:"int64",serialize:function(t,e){
t.pushArray(M.signedDecimalToBinary(8,""+e))},deserialize:function(t){return M.signedBinaryToDecimal(t.getUint8Array(8))}}),int32:ht({name:"int32",serialize:function(t,e){t.pushUint32(pt(e,0|e))},deserialize:function(t){return 0|t.getUint32()}}),varuint32:ht({name:"varuint32",serialize:function(t,e){t.pushVaruint32(pt(e,e>>>0))},deserialize:function(t){return t.getVaruint32()}}),varint32:ht({name:"varint32",serialize:function(t,e){t.pushVarint32(pt(e,0|e))},deserialize:function(t){
return t.getVarint32()}}),uint128:ht({name:"uint128",serialize:function(t,e){t.pushArray(M.decimalToBinary(16,""+e))},deserialize:function(t){return M.binaryToDecimal(t.getUint8Array(16))}}),int128:ht({name:"int128",serialize:function(t,e){t.pushArray(M.signedDecimalToBinary(16,""+e))},deserialize:function(t){return M.signedBinaryToDecimal(t.getUint8Array(16))}}),float32:ht({name:"float32",serialize:function(t,e){t.pushFloat32(e)},deserialize:function(t){return t.getFloat32()}}),float64:ht({
name:"float64",serialize:function(t,e){t.pushFloat64(e)},deserialize:function(t){return t.getFloat64()}}),float128:ht({name:"float128",serialize:function(t,e){t.pushUint8ArrayChecked($(e),16)},deserialize:function(t){return q(t.getUint8Array(16))}}),bytes:ht({name:"bytes",serialize:function(t,e){e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes($(e))},deserialize:function(t,e){return e&&e.options.bytesAsUint8Array?t.getBytes():q(t.getBytes())}}),string:ht({name:"string",
serialize:function(t,e){t.pushString(e)},deserialize:function(t){return t.getString()}}),name:ht({name:"name",serialize:function(t,e){t.pushName(e)},deserialize:function(t){return t.getName()}}),time_point:ht({name:"time_point",serialize:function(t,e){t.pushNumberAsUint64(G(e))},deserialize:function(t){return Z(t.getUint64AsNumber())}}),time_point_sec:ht({name:"time_point_sec",serialize:function(t,e){t.pushUint32(J(e))},deserialize:function(t){return F(t.getUint32())}}),block_timestamp_type:ht({
name:"block_timestamp_type",serialize:function(t,e){t.pushUint32(H(e))},deserialize:function(t){return Y(t.getUint32())}}),symbol_code:ht({name:"symbol_code",serialize:function(t,e){t.pushSymbolCode(e)},deserialize:function(t){return t.getSymbolCode()}}),symbol:ht({name:"symbol",serialize:function(t,e){t.pushSymbol(X(e))},deserialize:function(t){return Q(t.getSymbol())}}),asset:ht({name:"asset",serialize:function(t,e){t.pushAsset(e)},deserialize:function(t){return t.getAsset()}}),
checksum160:ht({name:"checksum160",serialize:function(t,e){t.pushUint8ArrayChecked($(e),20)},deserialize:function(t){return q(t.getUint8Array(20))}}),checksum256:ht({name:"checksum256",serialize:function(t,e){t.pushUint8ArrayChecked($(e),32)},deserialize:function(t){return q(t.getUint8Array(32))}}),checksum512:ht({name:"checksum512",serialize:function(t,e){t.pushUint8ArrayChecked($(e),64)},deserialize:function(t){return q(t.getUint8Array(64))}}),public_key:ht({name:"public_key",
serialize:function(t,e){t.pushPublicKey(e)},deserialize:function(t){return t.getPublicKey()}}),private_key:ht({name:"private_key",serialize:function(t,e){t.pushPrivateKey(e)},deserialize:function(t){return t.getPrivateKey()}}),signature:ht({name:"signature",serialize:function(t,e){t.pushSignature(e)},deserialize:function(t){return t.getSignature()}})}));return t.set("extended_asset",ht({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{
name:"contract",typeName:"name",type:t.get("name")}],serialize:rt,deserialize:nt})),t},L.getType=dt,L.getTypesFromAbi=function(t,e){var r,n,i,a,o,s,u,c,l,f,h=new Map(t);if(e.types)try{for(var p=K(e.types),d=p.next();!d.done;d=p.next()){var y=d.value,v=y.new_type_name,g=y.type;h.set(v,ht({name:v,aliasOfName:g}))}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}if(e.structs)try{for(var m=K(e.structs),b=m.next();!b.done;b=m.next()){
var w=b.value,A=w.name,x=w.base,_=w.fields;h.set(A,ht({name:A,baseName:x,fields:_.map((function(t){return{name:t.name,typeName:t.type,type:null}})),serialize:rt,deserialize:nt}))}}catch(t){i={error:t}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(e.variants)try{for(var k=K(e.variants),S=k.next();!S.done;S=k.next()){var E=S.value,z=E.name,U=E.types;h.set(z,ht({name:z,fields:U.map((function(t){return{name:t,typeName:t,type:null}})),serialize:it,deserialize:at}))}
}catch(t){o={error:t}}finally{try{S&&!S.done&&(s=k.return)&&s.call(k)}finally{if(o)throw o.error}}try{for(var R=K(h),T=R.next();!T.done;T=R.next()){var L=D(T.value,2);L[0];(g=L[1]).baseName&&(g.base=dt(h,g.baseName));try{for(var P=K(g.fields),C=P.next();!C.done;C=P.next()){var I=C.value;I.type=dt(h,I.typeName)}}catch(t){l={error:t}}finally{try{C&&!C.done&&(f=P.return)&&f.call(P)}finally{if(l)throw l.error}}}}catch(t){u={error:t}}finally{try{T&&!T.done&&(c=R.return)&&c.call(R)}finally{
if(u)throw u.error}}return h},L.transactionHeader=function(t,e){return{expiration:F(J(t.timestamp)+e),ref_block_num:65535&t.block_num,ref_block_prefix:t.ref_block_prefix}},L.serializeActionData=yt,L.serializeAction=function(t,e,r,n,i,a,o){return{account:e,name:r,authorization:n,data:yt(t,e,r,i,a,o)}},L.deserializeActionData=vt,L.deserializeAction=function(t,e,r,n,i,a,o){return{account:e,name:r,authorization:n,data:vt(t,e,r,i,a,o)}};var gt={version:"eosio::abi/1.1",structs:[{
name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",
type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{
name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]},mt={version:"eosio::abi/1.0",types:[{
new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"
},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]
}]},bt=m&&m.__assign||function(){return(bt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},wt=m&&m.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(o,s)}
u((n=n.apply(t,e||[])).next())}))},At=m&&m.__generator||function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),
0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}
i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},xt=m&&m.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]])}return r},_t=m&&m.__read||function(t,e){
var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},kt=m&&m.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_t(arguments[e]));return t},St=m&&m.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){
return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(T,"__esModule",{value:!0});var Et=L,zt=gt,Ut=mt,Rt=function(){function t(t){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,this.signatureProvider=t.signatureProvider,this.chainId=t.chainId,this.textEncoder=t.textEncoder,this.textDecoder=t.textDecoder,this.abiTypes=Et.getTypesFromAbi(Et.createInitialTypes(),zt),
this.transactionTypes=Et.getTypesFromAbi(Et.createInitialTypes(),Ut)}return t.prototype.rawAbiToJson=function(t){var e=new Et.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:t});if(!Et.supportedAbiVersion(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)},t.prototype.getCachedAbi=function(t,e){return void 0===e&&(e=!1),wt(this,void 0,void 0,(function(){var r,n,i,a;return At(this,(function(o){
switch(o.label){case 0:if(!e&&this.cachedAbis.get(t))return[2,this.cachedAbis.get(t)];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(t)];case 2:return n=o.sent().abi,i=this.rawAbiToJson(n),r={rawAbi:n,abi:i},[3,4];case 3:throw(a=o.sent()).message="fetching abi for "+t+": "+a.message,a;case 4:if(!r)throw new Error("Missing abi for "+t);return this.cachedAbis.set(t,r),[2,r]}}))}))},t.prototype.getAbi=function(t,e){return void 0===e&&(e=!1),
wt(this,void 0,void 0,(function(){return At(this,(function(r){switch(r.label){case 0:return[4,this.getCachedAbi(t,e)];case 1:return[2,r.sent().abi]}}))}))},t.prototype.getTransactionAbis=function(t,e){return void 0===e&&(e=!1),wt(this,void 0,void 0,(function(){var r,n,i,a=this;return At(this,(function(o){return r=t.actions.map((function(t){return t.account})),n=new Set(r),i=kt(n).map((function(t){return wt(a,void 0,void 0,(function(){var r;return At(this,(function(n){switch(n.label){case 0:
return r={accountName:t},[4,this.getCachedAbi(t,e)];case 1:return[2,(r.abi=n.sent().rawAbi,r)]}}))}))})),[2,Promise.all(i)]}))}))},t.prototype.getContract=function(t,e){return void 0===e&&(e=!1),wt(this,void 0,void 0,(function(){var r,n,i,a,o,s,u,c,l,f,h;return At(this,(function(p){switch(p.label){case 0:return!e&&this.contracts.get(t)?[2,this.contracts.get(t)]:[4,this.getAbi(t,e)];case 1:i=p.sent(),a=Et.getTypesFromAbi(Et.createInitialTypes(),i),o=new Map;try{for(s=St(i.actions),
u=s.next();!u.done;u=s.next())c=u.value,l=c.name,f=c.type,o.set(l,Et.getType(a,f))}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return h={types:a,actions:o},this.contracts.set(t,h),[2,h]}}))}))},t.prototype.serialize=function(t,e,r){this.transactionTypes.get(e).serialize(t,r)},t.prototype.deserialize=function(t,e){return this.transactionTypes.get(e).deserialize(t)},t.prototype.serializeTransaction=function(t){var e=new Et.SerialBuffer({
textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(e,"transaction",bt({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},t)),e.asUint8Array()},t.prototype.deserializeTransaction=function(t){var e=new Et.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return e.pushArray(t),this.deserialize(e,"transaction")},t.prototype.serializeActions=function(t){
return wt(this,void 0,void 0,(function(){var e=this;return At(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,n=t.name,i=t.authorization,a=t.data;return wt(e,void 0,void 0,(function(){var t;return At(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,Et.serializeAction(t,r,n,i,a,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))}))},
t.prototype.deserializeActions=function(t){return wt(this,void 0,void 0,(function(){var e=this;return At(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,n=t.name,i=t.authorization,a=t.data;return wt(e,void 0,void 0,(function(){var t;return At(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,Et.deserializeAction(t,r,n,i,a,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))
}))},t.prototype.deserializeTransactionWithActions=function(t){return wt(this,void 0,void 0,(function(){var e,r;return At(this,(function(n){switch(n.label){case 0:return"string"==typeof t&&(t=Et.hexToUint8Array(t)),e=this.deserializeTransaction(t),[4,this.deserializeActions(e.actions)];case 1:return r=n.sent(),[2,bt({},e,{actions:r})]}}))}))},t.prototype.transact=function(t,e){var r=void 0===e?{}:e,n=r.broadcast,i=void 0===n||n,a=r.sign,o=void 0===a||a,s=r.blocksBehind,u=r.expireSeconds
;return wt(this,void 0,void 0,(function(){var e,r,n,a,c,l,f,h,p;return At(this,(function(d){switch(d.label){case 0:return this.chainId?[3,2]:[4,this.rpc.get_info()];case 1:e=d.sent(),this.chainId=e.chain_id,d.label=2;case 2:return"number"==typeof s&&u?e?[3,4]:[4,this.rpc.get_info()]:[3,6];case 3:e=d.sent(),d.label=4;case 4:return[4,this.rpc.get_block(e.head_block_num-s)];case 5:r=d.sent(),t=bt({},Et.transactionHeader(r,u),t),d.label=6;case 6:
if(!this.hasRequiredTaposFields(t))throw new Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(t)];case 7:return n=d.sent(),a=[{},t],c={},[4,this.serializeActions(t.actions)];case 8:return t=bt.apply(void 0,a.concat([(c.actions=d.sent(),c)])),l=this.serializeTransaction(t),f={serializedTransaction:l,signatures:[]},o?[4,this.signatureProvider.getAvailableKeys()]:[3,12];case 9:return h=d.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:t,
availableKeys:h})];case 10:return p=d.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:p,serializedTransaction:l,abis:n})];case 11:f=d.sent(),d.label=12;case 12:return i?[2,this.pushSignedTransaction(f)]:[2,f]}}))}))},t.prototype.pushSignedTransaction=function(t){var e=t.signatures,r=t.serializedTransaction;return wt(this,void 0,void 0,(function(){return At(this,(function(t){return[2,this.rpc.push_transaction({signatures:e,serializedTransaction:r})]}))}))},
t.prototype.hasRequiredTaposFields=function(t){var e=t.expiration,r=t.ref_block_num,n=t.ref_block_prefix;return xt(t,["expiration","ref_block_num","ref_block_prefix"]),!!(e&&r&&n)},t}();T.Api=Rt;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var Lt,Pt={},Ct={},It=m&&m.__extends||(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){
function r(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(Ct,"__esModule",{value:!0});var Ot=function(t){function e(r){var n=this;return n=r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?t.call(this,r.error.details[0].message)||this:r.processed&&r.processed.except&&r.processed.except.message?t.call(this,r.processed.except.message)||this:t.call(this,r.message)||this,
Object.setPrototypeOf(n,e.prototype),n.json=r,n}return It(e,t),e}(Error);Ct.RpcError=Ot;var jt=m&&m.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(o,s)}u((n=n.apply(t,e||[])).next())}))},Dt=m&&m.__generator||function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]}
;return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0]
;continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Nt=m&&m.__values||function(t){
var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(Pt,"__esModule",{value:!0});var Kt=P,Mt=Ct;function Wt(t){var e,r,n="";try{for(var i=Nt(t),a=i.next();!a.done;a=i.next()){n+=("00"+a.value.toString(16)).slice(-2)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}var Bt=function(){function t(t,e){void 0===e&&(e={}),
this.endpoint=t,e.fetch?this.fetchBuiltin=e.fetch:this.fetchBuiltin=m.fetch}return t.prototype.fetch=function(t,e){return jt(this,void 0,void 0,(function(){var r,n,i;return Dt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+t,{body:JSON.stringify(e),method:"POST"})];case 1:return[4,(r=a.sent()).json()];case 2:if((n=a.sent()).processed&&n.processed.except)throw new Mt.RpcError(n);return[3,4];case 3:throw(i=a.sent()).isFetchError=!0,i
;case 4:if(!r.ok)throw new Mt.RpcError(n);return[2,n]}}))}))},t.prototype.get_abi=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_account=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:t})];case 1:return[2,e.sent()]}}))
}))},t.prototype.get_block_header_state=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_block=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},
t.prototype.get_code=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_currency_balance=function(t,e,r){return void 0===r&&(r=null),jt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:r})];case 1:return[2,n.sent()]}}))}))},
t.prototype.get_currency_stats=function(t,e){return jt(this,void 0,void 0,(function(){return Dt(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.get_info=function(){return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producer_schedule=function(){
return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producers=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=""),void 0===r&&(r=50),jt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:r})];case 1:return[2,n.sent()]}}))}))},
t.prototype.get_raw_code_and_abi=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.getRawAbi=function(t){return jt(this,void 0,void 0,(function(){var e,r;return Dt(this,(function(n){switch(n.label){case 0:return[4,this.get_raw_code_and_abi(t)];case 1:return e=n.sent(),r=Kt.base64ToBinary(e.abi),[2,{accountName:e.account_name,
abi:r}]}}))}))},t.prototype.get_table_rows=function(t){var e=t.json,r=void 0===e||e,n=t.code,i=t.scope,a=t.table,o=t.table_key,s=void 0===o?"":o,u=t.lower_bound,c=void 0===u?"":u,l=t.upper_bound,f=void 0===l?"":l,h=t.index_position,p=void 0===h?1:h,d=t.key_type,y=void 0===d?"":d,v=t.limit,g=void 0===v?10:v,m=t.reverse,b=void 0!==m&&m,w=t.show_payer,A=void 0!==w&&w;return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:
return[4,this.fetch("/v1/chain/get_table_rows",{json:r,code:n,scope:i,table:a,table_key:s,lower_bound:c,upper_bound:f,index_position:p,key_type:y,limit:g,reverse:b,show_payer:A})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_table_by_scope=function(t){var e=t.code,r=t.table,n=t.lower_bound,i=void 0===n?"":n,a=t.upper_bound,o=void 0===a?"":a,s=t.limit,u=void 0===s?10:s;return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:
return[4,this.fetch("/v1/chain/get_table_by_scope",{code:e,table:r,lower_bound:i,upper_bound:o,limit:u})];case 1:return[2,t.sent()]}}))}))},t.prototype.getRequiredKeys=function(t){return jt(this,void 0,void 0,(function(){var e;return Dt(this,(function(r){switch(r.label){case 0:return e=Kt.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys})];case 1:return[2,e.apply(void 0,[r.sent().required_keys])]}}))}))},
t.prototype.push_transaction=function(t){var e=t.signatures,r=t.serializedTransaction;return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:e,compression:0,packed_context_free_data:"",packed_trx:Wt(r)})];case 1:return[2,t.sent()]}}))}))},t.prototype.db_size_get=function(){return jt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:
return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.history_get_actions=function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=null),jt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:r})];case 1:return[2,n.sent()]}}))}))},t.prototype.history_get_transaction=function(t,e){return void 0===e&&(e=null),jt(this,void 0,void 0,(function(){
return Dt(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.history_get_key_accounts=function(t){return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.history_get_controlled_accounts=function(t){
return jt(this,void 0,void 0,(function(){return Dt(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})];case 1:return[2,e.sent()]}}))}))},t}();Pt.JsonRpc=Bt;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Object.defineProperty(R,"__esModule",{value:!0});var Gt=T;R.Api=Gt.Api;var Zt=Tt;R.ApiInterfaces=Zt;var Jt=Pt;R.JsonRpc=Jt.JsonRpc;var Ft=P;R.Numeric=Ft;var Ht=Vt;R.RpcInterfaces=Ht;var Yt=Ct
;R.RpcError=Yt.RpcError;var Xt=L;R.Serialize=Xt;var Qt={},qt=m&&m.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(Qt,"__esModule",{value:!0});var $t=function(){function t(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:3000";i(this,t),this.waxSigningURL=e,this.timeout=function(){return new Promise((function(t,e){var r=setTimeout((function(){clearTimeout(r),e(new Error("Timeout"))}),2e3)}))},this.openEventSource=this.openEventSource.bind(this),this.onceEvent=this.onceEvent.bind(this)}return o(t,[{key:"openEventSource",value:function(t,e,r){return qt(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o,s=this
;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}n.t0=r,n.next=7;break;case 4:return n.next=6,window.open(t,"WaxPopup","height=800,width=600");case 6:n.t0=n.sent;case 7:if(i=n.t0){n.next=10;break}throw new Error("Unable to open a popup window");case 10:if(void 0!==e){n.next=12;break}return n.abrupt("return",i);case 12:return a=function(t){return qt(s,void 0,void 0,regeneratorRuntime.mark((function r(){
return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"READY"===t.data.type&&i.postMessage(e,this.waxSigningURL);case 1:case"end":return r.stop()}}),r,this)})))},o=this.onceEvent(i,this.waxSigningURL,a),n.next=16,Promise.race([o,this.timeout()]).catch((function(t){if("Timeout"!==t.message)throw t;i.postMessage(e,s.waxSigningURL)}));case 16:return n.abrupt("return",i);case 17:case"end":return n.stop()}}),n,this)})))}},{key:"onceEvent",value:function(t,r,n){
return qt(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,a){window.addEventListener("message",(function o(s){return qt(this,void 0,void 0,regeneratorRuntime.mark((function u(){var c;return regeneratorRuntime.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(s.origin===r){u.next=2;break}return u.abrupt("return");case 2:if(s.source===t){u.next=4;break}
return u.abrupt("return");case 4:if("object"===e(s.data)){u.next=6;break}return u.abrupt("return");case 6:return u.prev=6,u.next=9,n(s);case 9:c=u.sent,i(c),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(6),a(u.t0);case 16:window.removeEventListener("message",o,!1);case 17:case"end":return u.stop()}}),u,null,[[6,13]])})))}),!1)})));case 1:case"end":return i.stop()}}),i)})))}}]),t}();Qt.WaxEventSource=$t;var te=m&&m.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){
function o(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}u((n=n.apply(t,e||[])).next())}))};Object.defineProperty(U,"__esModule",{value:!0});var ee=R,re=Qt,ne=function(){function t(e){
var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"https://all-access.wax.io",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"https://api-idm.wax.io/v1/accounts/auto-accept/";if(i(this,t),this.apiSigner=o,this.waxSigningURL=s,
this.waxAutoSigningURL=u,this.waxEventSource=new re.WaxEventSource(s),this.rpc=new ee.JsonRpc(e),r&&Array.isArray(n)){var c={userAccount:r,pubKeys:n,verified:!0};this.receiveLogin({data:c})}else a&&this.loginViaEndpoint()}return o(t,[{key:"login",value:function(){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.userAccount||!Array.isArray(this.pubKeys)){t.next=4;break}
return t.abrupt("return",this.userAccount);case 4:return t.abrupt("return",this.loginViaWindow());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"isAutoLoginAvailable",value:function(){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.userAccount||!Array.isArray(this.pubKeys)){t.next=4;break}return t.abrupt("return",!0);case 4:return t.prev=4,t.next=7,this.loginViaEndpoint();case 7:
return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(4),t.abrupt("return",!1);case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"loginViaWindow",value:function(){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/login/");case 2:return e=t.sent,
t.abrupt("return",this.waxEventSource.onceEvent(e,this.waxSigningURL,this.receiveLogin.bind(this)));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"loginViaEndpoint",value:function(){return te(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.waxAutoSigningURL+"login",{credentials:"include",method:"get"});case 2:if((e=t.sent).ok){t.next=5;break}
throw new Error("Login Endpoint Error ".concat(e.status," ").concat(e.statusText));case 5:return t.next=7,e.json();case 7:if(!(r=t.sent).processed||!r.processed.except){t.next=10;break}throw new Error(r);case 10:return t.abrupt("return",this.receiveLogin({data:r}));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"receiveLogin",value:function(t){return te(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n,i,a,o,s,u,c,l,f=this;return regeneratorRuntime.wrap((function(e){
for(;;)switch(e.prev=e.next){case 0:if(r=t.data,n=r.verified,i=r.userAccount,a=r.pubKeys,o=r.whitelistedContracts,s=r.autoLogin,n){e.next=3;break}throw new Error("User declined to share their user account");case 3:if(null!=i&&null!=a){e.next=5;break}throw new Error("User does not have a blockchain account");case 5:return localStorage.setItem("autoLogin",s),this.whitelistedContracts=o||[],this.userAccount=i,this.pubKeys=a,u={getAvailableKeys:function(){
return te(f,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=[],t.t1=y(this.pubKeys),t.t2=y,t.t4=this.apiSigner,!t.t4){t.next=8;break}return t.next=7,this.apiSigner.getAvailableKeys();case 7:t.t4=t.sent;case 8:if(t.t3=t.t4,t.t3){t.next=11;break}t.t3=[];case 11:return t.t5=t.t3,t.t6=(0,t.t2)(t.t5),t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t6));case 14:case"end":return t.stop()}}),t,this)})))},
sign:function(t){return te(f,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.serializedTransaction,e.t1=[],e.t2=y,e.next=5,this.signing(t.serializedTransaction);case 5:if(e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=y,e.t7=this.apiSigner,!e.t7){e.next=13;break}return e.next=12,this.apiSigner.sign(t);case 12:e.t7=e.sent.signatures;case 13:if(e.t6=e.t7,e.t6){e.next=16;break}e.t6=[];case 16:return e.t8=e.t6,
e.t9=(0,e.t5)(e.t8),e.t10=e.t1.concat.call(e.t1,e.t4,e.t9),e.abrupt("return",{serializedTransaction:e.t0,signatures:e.t10});case 20:case"end":return e.stop()}}),e,this)})))}},this.api=new ee.Api({rpc:this.rpc,signatureProvider:u}),c=this.api.transact.bind(this.api),l=this.waxSigningURL+"/cloud-wallet/signing/",this.api.transact=function(t,e){return te(f,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:
return r.next=2,this.canAutoSign(t);case 2:if(r.sent){r.next=6;break}return r.next=5,window.open(l,"WaxPopup","height=800,width=600");case 5:this.signingWindow=r.sent;case 6:return r.next=8,c(t,e);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r,this)})))},e.abrupt("return",this.userAccount);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"canAutoSign",value:function(t){return te(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n=this
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.actions){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,this.api.deserializeTransactionWithActions(t);case 6:e.t0=e.sent;case 7:return r=e.t0,e.abrupt("return",!r.actions.find((function(t){return!n.isWhitelisted(t)})));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"isWhitelisted",value:function(t){return!!this.whitelistedContracts.find((function(e){
return e.contract===t.account&&("eosio.token"!==t.account||"transfer"!==t.name||e.recipients.includes(t.data.to))}))}},{key:"signing",value:function(t){return te(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canAutoSign(t);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",this.signViaEndpoint(t).catch((function(){return r.signViaWindow(void 0,t)})));case 4:
return e.abrupt("return",this.signViaWindow(this.signingWindow,t));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"signViaEndpoint",value:function(t){return te(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.waxAutoSigningURL+"signing",{body:JSON.stringify({transaction:Object.values(t)}),credentials:"include",headers:{"Content-Type":"application/json"},
method:"POST"});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Signing Endpoint Error ".concat(r.status," ").concat(r.statusText));case 6:return e.next=8,r.json();case 8:if(!(n=e.sent).processed||!n.processed.except){e.next=11;break}throw new Error(n);case 11:return e.abrupt("return",this.receiveSignatures({data:n}));case 14:throw e.prev=14,e.t0=e.catch(0),this.whitelistedContracts=[],e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,14]])})))}},{key:"signViaWindow",
value:function(t,e){return te(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/signing/",{type:"TRANSACTION",transaction:e},t);case 2:return n=r.sent,r.abrupt("return",this.waxEventSource.onceEvent(n,this.waxSigningURL,this.receiveSignatures.bind(this)));case 4:case"end":return r.stop()}}),r,this)})))}},{
key:"receiveSignatures",value:function(t){return te(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("TX_SIGNED"!==t.data.type){e.next=8;break}if(r=t.data,n=r.verified,i=r.signatures,a=r.whitelistedContracts,n&&null!=i){e.next=4;break}throw new Error("User declined to sign the transaction");case 4:return this.whitelistedContracts=a||[],e.abrupt("return",i);case 8:if("READY"===t.data.type){
e.next=10;break}throw new Error("Unexpected response received when attempting signing: ".concat(JSON.stringify(t.data,void 0,2)));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this)})))}}]),t}(),ie=U.WaxJS=ne,ae=function(t){s(r,t);var e=d(r);function r(t,n,a){return i(this,r),e.call(this,t,n,a,"Wax")}return r}(b.UALError),oe=function(t){s(h,t);var e,r,a,u,c,l,f=d(h);function h(t,e,r,n){var a;return i(this,h),(a=f.call(this)).accountName=e,a.pubKeys=r,
a.requestPermission="active",a.chain=t,a.wax=n,a.api=n.api,a.rpc=n.api&&n.api.rpc,a}return o(h,[{key:"signTransaction",value:(l=n(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wax.login();case 3:if(t.sent===this.accountName){t.next=8;break}throw new Error("Account does not match the requested permission");case 8:this.api=this.wax.api,this.rpc=this.wax.api.rpc;case 10:return t.next=12,
this.wax.api.transact(e,r);case 12:return n=t.sent,t.abrupt("return",this.returnEosjsTransaction(!1!==r.broadcast,n));case 16:throw t.prev=16,t.t0=t.catch(0),new ae(t.t0.message?t.t0.message:"Unable to sign transaction",b.UALErrorType.Signing,t.t0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(t,e){return l.apply(this,arguments)})},{key:"signArbitrary",value:(c=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){
case 0:throw new ae("WAX Cloud Wallet does not currently support signArbitrary",b.UALErrorType.Unsupported,null);case 1:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})},{key:"verifyKeyOwnership",value:(u=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new ae("WAX Cloud Wallet does not currently support verifyKeyOwnership",b.UALErrorType.Unsupported,null);case 1:case"end":return t.stop()}
}),t)}))),function(){return u.apply(this,arguments)})},{key:"getAccountName",value:(a=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.accountName);case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getChainId",value:(r=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:
return t.abrupt("return",this.chain.chainId);case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getKeys",value:(e=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pubKeys);case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),h}(b.User),se=function(t){s(l,t);var e,r,a,u,c=d(l);function l(t,e){var r
;return i(this,l),(r=c.call(this,t,e)).users=[],r.initiated=!1,r.apiSigner=e&&e.apiSigner,r.waxSigningURL=e&&e.waxSigningURL,r.waxAutoSigningURL=e&&e.waxAutoSigningURL,r}return o(l,[{key:"init",value:(u=n(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.initWaxJS(),t.prev=1,!this.wax){t.next=11;break}return t.next=5,this.wax.isAutoLoginAvailable();case 5:if(!t.sent){t.next=9;break}this.receiveLogin(),t.next=11
;break;case 9:(e=JSON.parse(localStorage.getItem("ual-wax:autologin")||"null"))&&e.expire>=Date.now()&&this.receiveLogin(e.userAccount,e.pubKeys);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("UAL-WAX: autologin error",t.t0);case 16:this.initiated=!0,console.log("UAL-WAX: init");case 18:case"end":return t.stop()}}),t,this,[[1,13]])}))),function(){return u.apply(this,arguments)})},{key:"reset",value:function(){this.wax=void 0,this.users=[],this.initiated=!1,
this.session=void 0}},{key:"isErrored",value:function(){return!1}},{key:"getOnboardingLink",value:function(){return"https://all-access.wax.io/"}},{key:"getError",value:function(){return null}},{key:"isLoading",value:function(){return!this.initiated}},{key:"getStyle",value:function(){return{
icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAEt2lUWHRYTU\nw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpy\nZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az\n0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8x\nOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIg\nogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0\naWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaH\nR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25z\nLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3\nhhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9z\nVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwIgogICBleGlmOl\nBpeGVsWURpbWVuc2lvbj0iMzAiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdp\nZHRoPSIzMCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMzAiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9Ij\nIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLjAiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLjAiCiAg\nIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQz\nYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDYtMTlUMDI6MDE6NDgrMDI6MDAiCiAg\nIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMTlUMDI6MDE6NDgrMDI6MDAiPgogICA8eG1wTU06SG\nlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9k\ndWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgUGhvdG8gKE1hciAzMSAyMD\nIwKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMC0wNi0xOVQwMjowMTo0OCswMjowMCIvPgogICAgPC9y\nZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSRE\nY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+b+esCwAAAYJpQ0NQc1JHQiBJRUM2MTk2\nNi0yLjEAACiRdZHPK0RRFMc/ZjCTH42QLCwmYTUjRk1slJmEkjRGGWxm3vxS8+P13kiyVbZTlNj4te\nAvYKuslSJSsrKwJjZMz3kzUyOZczv3fO733nO691ywBFNKWq8dgHQmpwUmfM6F0KLT9kI9rXTgwR5W\ndHVsdnaaqvZ5T40Zb91mrern/rXGaExXoMYuPKqoWk54Unh6LaeavCPcriTDUeEzYZcmFxS+M/VIiV\n9NTpT422QtGPCDpUXYmfjFkV+sJLW0sLycnnRqVSnfx3xJUywzPyexW7wLnQAT+HAyxTh+vAwyIrMX\nt/SnX1ZUyR8o5s+QlVxFZpV1NFZIkCSHS9RVqR6TGBc9JiPFutn/v33V40OeUvUmH9Q9G8Z7L9i2oZ\nA3jK8jwygcg/UJLjOV/OwhDH+Inq9oPQfg2ITzq4oW2YWLLeh8VMNauChZxS3xOLydQnMI2m6gYanU\ns/I+Jw8Q3JCvuoa9feiT847lH1hwZ9/TwxVHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVRIie\n2Uz0tUcRTFzx0nLTBKCHQ14cIJ+rEpxMBFuugPSHAhEdQm2kQtQ4kpaqU5u4pw1cLViBG4SKEfCFFE\nSNFQEbWQmrI2UeGMhtOnxbvDPN883QvvbO4753vv+d73ffd9pQQJEiTYajBJAlKSMDMAq+kx2jpuZv\n+AJknHJXVI+iZpznNSwbpMBfcbFGaioQtvYFNtg5wu4DMBHgG7JIlisbkhN3csXSu6ADwBOp33AHPA\nLHAkZDwPXA5tdgv4ALwGDrg25Zsvsrp6UJJ+Tw7tWc5nxiv5zPPyaPudlYXJLqBXwBlPHvHiu9Qx4d\no15+edjzr/4rECdPja9VB93/IlnaWQpZLfu7gyltkvSaXSyx0CdgNrwCugBfgJfAWWgB+uvQPW3PiU\nm753PuT8DbDdtQGgCsDf8nB5RIPfc2oNjlr1TwXc8+IbHoeBKxHtNnDYn38B/UABeBZ6wxn3O8l6jM\nfOCHAikrgPOBTRLvoJABwFssAYkAPOAQ997aPHP/7mjwGoVovU5yhV27gVeEpwvPdDDT0APgEvgJIb\nno5OashjGlgAZoCs683ATeAtwfzsjCtuitHavAjgqmtpIOUxDWzboJnG3wnSUv0CMTMjkmB+EXRK6p\na0ZGbzm+W7H4q5bGo8rsEECRIk2Br4D20NhhljafHuAAAAAElFTkSuQmCC",
text:"WAX Cloud Wallet",textColor:"white",background:"#111111"}}},{key:"shouldRender",value:function(){return!0}},{key:"shouldAutoLogin",value:function(){return!1}},{key:"shouldRequestAccountName",value:(a=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"shouldInvalidateAfter",value:function(){
return 86400}},{key:"login",value:(r=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("UAL-WAX: login requested"),!(this.chains.length>1)){t.next=3;break}throw new ae("WAX Could Wallet only supports one WAX chain",b.UALErrorType.Unsupported,null);case 3:if(this.wax){t.next=5;break}throw new ae("WAX Cloud Wallet not initialized yet",b.UALErrorType.Initialization,null);case 5:if(t.prev=5,this.session){t.next=10
;break}return t.next=9,this.wax.login();case 9:this.receiveLogin();case 10:if(this.session){t.next=12;break}throw new Error("Could not receive login information");case 12:return this.users=[new oe(this.chains[0],this.session.userAccount,this.session.pubKeys,this.wax)],console.log("UAL-WAX: login",this.users),t.abrupt("return",this.users);case 17:throw t.prev=17,t.t0=t.catch(5),new ae(t.t0.message?t.t0.message:"Could not login to the WAX Cloud Wallet",b.UALErrorType.Login,t.t0);case 20:case"end":
return t.stop()}}),t,this,[[5,17]])}))),function(){return r.apply(this,arguments)})},{key:"logout",value:(e=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.initWaxJS(),this.users=[],this.session=void 0,localStorage.setItem("ual-wax:autologin","null"),console.log("UAL-WAX: logout");case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"requiresGetKeyConfirmation",
value:function(){return!1}},{key:"getName",value:function(){return"wax"}},{key:"receiveLogin",value:function(t,e){if(this.wax){var r={userAccount:t||this.wax.userAccount,pubKeys:e||this.wax.pubKeys,expire:Date.now()+1e3*this.shouldInvalidateAfter()};r.userAccount&&r.pubKeys&&(localStorage.setItem("ual-wax:autologin",JSON.stringify(r)),this.session=r)}}},{key:"initWaxJS",value:function(){this.wax=new ie(this.getEndpoint(),void 0,void 0,!1,this.apiSigner,this.waxSigningURL,this.waxAutoSigningURL)}
},{key:"getEndpoint",value:function(){return"".concat(this.chains[0].rpcEndpoints[0].protocol,"://").concat(this.chains[0].rpcEndpoints[0].host,":").concat(this.chains[0].rpcEndpoints[0].port)}}]),l}(b.Authenticator);return t.default=se,Object.defineProperty(t,"__esModule",{value:!0}),t}({});!function(){var t=UALWax;for(var e in UALWax=t.default,t)"default"!==e&&(UALWax[e]=t[e])}();
//# sourceMappingURL=ual-wax.bundle.js.map
